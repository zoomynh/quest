<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <title>Авторизація</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/tesseract.js@5/dist/tesseract.min.js"></script>
</head>
<body class="login-body">

<div class="login-box">
    <h1>Служба Безпеки України</h1>
    <input type="file" id="passFile" accept="image/*">
    <button onclick="authorize()">Увійти</button>
    <p id="status"></p>
</div>

<script>
async function authorize() {
    const file = document.getElementById("passFile").files[0];
    const status = document.getElementById("status");

    if (!file) {
        status.innerText = "Завантажте зображення";
        return;
    }

    status.innerText = "Сканування...";

    const result = await Tesseract.recognize(file, "ukr+eng");
    const text = result.data.text.toLowerCase();

    if (text.includes("служба безпеки україни")) {
        localStorage.setItem("accessGranted", "true");
        window.location.href = "index.html";
    } else {
        status.innerText = "Доступ заборонено";
    }
}
</script>

</body>
</html>
